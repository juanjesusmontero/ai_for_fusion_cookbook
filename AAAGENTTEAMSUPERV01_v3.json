{
  "WorkflowCode": "AAAGENTTEAMSUPERV01",
  "Name": "AA_AGENT_TEAM_SUPERV_01",
  "Description": "An agent that helps answer user queries related to Payables Invoices or Receivables transactions",
  "Family": "FIN",
  "Product": "OTHER",
  "UseCaseId": "NA",
  "SourceWorkflowId": null,
  "AccessModifier": "public",
  "Specification": {
    "jsonSchemaName": "Workflow.spec",
    "jsonSchemaVersion": "1",
    "inputs": [],
    "agentsValueMappings": [
      {
        "agentCode": "AAAGENTAPINV",
        "inputs": []
      },
      {
        "agentCode": "AAAGENTSUPERV01",
        "inputs": []
      },
      {
        "agentCode": "AAARAGENTINV",
        "inputs": []
      }
    ],
    "dataPipeline": {
      "pipelineNodes": [
        {
          "metadata": {
            "description": "End of data pipeline",
            "name": "End"
          },
          "outcomes": {},
          "code": "END",
          "id": "end",
          "inputs": [],
          "type": "END"
        }
      ],
      "rootNode": "end",
      "variables": [],
      "errorHandlers": [
        {
          "type": "EMAIL",
          "inputs": [
            {
              "name": "toList",
              "type": "string",
              "value": ""
            },
            {
              "name": "ccList",
              "type": "string",
              "value": ""
            },
            {
              "name": "subject",
              "type": "string",
              "value": ""
            },
            {
              "name": "body",
              "type": "string",
              "value": ""
            }
          ]
        }
      ]
    },
    "triggers": [
      {
        "type": "REST",
        "inputs": []
      }
    ]
  },
  "StartQuestionOne": "Please, show invoices for Supplier Name \"Lee Supplies\"",
  "StartQuestionTwo": "Please, show transactions for CustomerName \"ABC Corporation Americas\"",
  "StartQuestionThree": null,
  "FollowUpPromptEnabledFlag": false,
  "FollowUpPrompt": "Based on the following conversion: $param.system_context.chat_history generate $param.system_context.number_of_follow_up_questions\nfollow up questions only while strictly adhering to the JSON Schema format mentioned below. Remove the ```json markdown from the output.\nHere is the JSON Schema format the output should adhere to:\n[{\"question\": \"<put first question generated here>\"}, {\"question\": \"<put second question generated here>\"}, {\"question\": \"<put third question generated here>\"}",
  "Architecture": "group",
  "MaximumInteractions": 10,
  "StartAgentId": null,
  "agents": [
    {
      "AgentCode": "AAAGENTAPINV",
      "Name": "AA_AGENT_AP_INV",
      "Description": "Get payables invoices data",
      "Family": "FIN",
      "Product": "OTHER",
      "ModuleId": null,
      "Namespace": "FIN.OTHER",
      "PromptCode": null,
      "Specification": {
        "jsonSchemaName": "Agent.spec",
        "jsonSchemaVersion": "1",
        "agentRole": "",
        "customFlag": true,
        "inputs": [],
        "outputSpecification": " ",
        "summarizationMode": "Default",
        "summarizationPrompt": "Based on the information through the chat history and/or tool call responses, construct a clear, professional, and user-friendly answer to address the user's original query.\nconstruct an answer that addresses the user's original query.\nYour answer should be directed towards the user and should be friendly, professional,\nand concise. If you are not able to answer the user's question based on the tool calls or through the chat history,\nyou should let them know that you do not have access to that information.\n\n--ANSWER REQUIREMENTS--\nYour answer should be based only on the information available to you in the tool calling chat\nhistory. You should never invent or make up answers. If the question requires you to synthesize\nanswers across several tool responses, you should do that. Note that some information may need\nto be summarized from across multiple places in a given object. Use your inference and semantic\nknowledge to derive the answer from the data without inventing anything.\n\n--ADDITIONAL REQUIREMENTS--\n* Do not mention tool calls, chat history, underlying operations, or system processes.\n* Keep the response natural and conversational without unnecessary preambles.\n* Provide a direct and engaging response without phrases like \"Based on tool calls\" or similar references.\n* Do not append any characters or trailing Periods (.) at the end of valid URLs.\n* If link is generated by DeepLink tool do not remove from response."
      },
      "Version": 34,
      "MaximumInteractions": 10,
      "AgentType": "WORKER",
      "Prompt": "Get payables invoices data",
      "ModelConfigId": "100002171444368",
      "ReusableFlag": false,
      "tools": [
        {
          "ToolCode": "AAAPINVOICESTOOLBO",
          "Type": "BUS_OBJECT",
          "Name": "AA_AP_INVOICES_TOOL_BO",
          "Description": "Get invoices data",
          "Family": "FIN",
          "Product": "OTHER",
          "SeededFlag": false,
          "HiddenFlag": false,
          "ModuleId": null,
          "Namespace": "FIN.OTHER",
          "Version": 1,
          "UserInputRequiredFlag": false,
          "Specification": {
            "jsonSchemaName": "Tool.spec",
            "jsonSchemaVersion": "1"
          },
          "UserInputMsg": null,
          "RestTool": {
            "ObjectCode": "ORA_FIN_OTHER_AAAPINVOICESBO2",
            "Family": "FIN",
            "Product": "OTHER",
            "ObjectSource": "ADF_BC",
            "Category": null,
            "RestResourcePath": "/fscmRestApi/resources/11.13.18.05/invoices",
            "RestResourceIdentifier": "identifier_not_known",
            "RestSupportedOperations": "{\"allowedOperations\": {\"GET\": true, \"POST\": true, \"PATCH\": true, \"DELETE\": true}}",
            "ParentSupptObjectId": null,
            "MandatoryFlag": false,
            "SeededFlag": false,
            "ObjectProperties": {
              "jsonSchemaName": "SupportedBusinessObject.objectProperties",
              "jsonSchemaVersion": 1,
              "tools": [
                {
                  "bodyTemplate": "",
                  "description": "Get invoices data",
                  "id": 59,
                  "isNew": true,
                  "name": "GetInvoicesData",
                  "operationType": "GET",
                  "parameterDefinitions": [
                    {
                      "dataType": "string",
                      "description": "Supplier name parameter",
                      "id": 86,
                      "isToken": true,
                      "name": "SupplierName"
                    },
                    {
                      "dataType": "integer",
                      "description": "Invoice ID",
                      "id": 87,
                      "isToken": false,
                      "name": "InvoiceId"
                    },
                    {
                      "dataType": "string",
                      "description": "Supplier Number",
                      "id": 88,
                      "isToken": false,
                      "name": "SupplierNumber"
                    },
                    {
                      "dataType": "string",
                      "description": "Invoice Source",
                      "id": 89,
                      "isToken": false,
                      "name": "InvoiceSourceCode"
                    },
                    {
                      "dataType": "string",
                      "description": "Approval Status",
                      "id": 90,
                      "isToken": false,
                      "name": "ApprovalStatus"
                    },
                    {
                      "dataType": "number",
                      "description": "Amount Paid",
                      "id": 91,
                      "isToken": false,
                      "name": "AmountPaid"
                    },
                    {
                      "dataType": "string",
                      "description": "Name",
                      "id": 92,
                      "isToken": false,
                      "name": "Party"
                    },
                    {
                      "dataType": "string",
                      "description": "Name",
                      "id": 93,
                      "isToken": false,
                      "name": "Supplier"
                    },
                    {
                      "dataType": "string",
                      "description": "Business Unit",
                      "id": 94,
                      "isToken": false,
                      "name": "BusinessUnit"
                    },
                    {
                      "dataType": "string",
                      "description": "Invoice Date",
                      "id": 95,
                      "isToken": false,
                      "name": "InvoiceDate"
                    },
                    {
                      "dataType": "number",
                      "description": "Amount",
                      "id": 96,
                      "isToken": false,
                      "name": "InvoiceAmount"
                    },
                    {
                      "dataType": "string",
                      "description": "Payment Currency",
                      "id": 97,
                      "isToken": false,
                      "name": "PaymentCurrency"
                    },
                    {
                      "dataType": "string",
                      "description": "Invoice Currency",
                      "id": 98,
                      "isToken": false,
                      "name": "InvoiceCurrency"
                    }
                  ],
                  "resourcePath": "/fscmRestApi/resources/11.13.18.05/invoices?q=Supplier='{SupplierName}'&onlyData=true&fields=InvoiceId,InvoiceNumber,InvoiceCurrency,PaymentCurrency,InvoiceAmount,InvoiceDate,BusinessUnit,Supplier,SupplierNumber",
                  "resourceType": "ADF_BC_FIXED_QUERY",
                  "sampleQueries": [],
                  "type": "BUS_OBJECT"
                }
              ]
            },
            "ObjectDisplayName": "AA_AP_INVOICES_BO2",
            "Name": "AA_AP_INVOICES_BO2",
            "Description": "Get invoices data"
          }
        }
      ],
      "topics": []
    },
    {
      "AgentCode": "AAAGENTSUPERV01",
      "Name": "AA_AGENT_SUPERV_01",
      "Description": "This agent serves as a planning and coordination layer that oversees and delegates tasks.",
      "Family": "FIN",
      "Product": "OTHER",
      "ModuleId": null,
      "Namespace": "FIN.OTHER",
      "PromptCode": null,
      "Specification": {
        "jsonSchemaName": "Agent.spec",
        "jsonSchemaVersion": "1",
        "agentRole": "",
        "customFlag": true,
        "inputs": [],
        "outputSpecification": " ",
        "summarizationMode": "Custom",
        "summarizationPrompt": "- Output must contain a table:\n\nPlease format dates dd-mm-yyyy\n \nHTML Styling Requirements:\n \n- Use a single <div> with inline styles.\n- Font: Arial, sans-serif; font size: 13px; line height: 1.3; color: #222.\n- Tables:\n  - border-collapse: collapse;\n  - width: 100%;\n  - padding: 2px 4px;\n  - no borders outside cell level;\n  - header cells styled using inline font-weight.\n\nAlign amounts to the right.\n\n\nUse the complete width for the table.\n"
      },
      "Version": 34,
      "MaximumInteractions": 10,
      "AgentType": "SUPERVISOR",
      "Prompt": "You are a planning agent.\n\nYour job is to break down complex user requests into smaller, manageable subtasks and delegate each task to exactly one of the following agents:\n\nIf the user ask for Supplier or Supplier Name use AA_AGENT_AP_INV agent \nIf the user ask for Customer or Customer Name use AA_AGENT_AR_INV agent\n\n## Important Mapping\n1. transaction and invoice means same\n\nDo not respond to tasks which cannot be done by the agents listed below. \n\nIn this situation provide a message to the end user explaining what kind of tasks can be performed based on the known agents.  \n\nYour job is only to plan and delegate tasks to the known agents - Do not invoke the task on your own.   \n\nMake sure only one agent can be invoked at a time. \n\n$param.system_context.list_of_available_agents\n\nPlease say TERMINATE when the whole job is completed.",
      "ModelConfigId": "100002171444368",
      "ReusableFlag": false,
      "tools": [],
      "topics": []
    },
    {
      "AgentCode": "AAARAGENTINV",
      "Name": "AA_AR_AGENT_INV",
      "Description": "Get receivables transaction data",
      "Family": "FIN",
      "Product": "OTHER",
      "ModuleId": null,
      "Namespace": "FIN.OTHER",
      "PromptCode": null,
      "Specification": {
        "jsonSchemaName": "Agent.spec",
        "jsonSchemaVersion": "1",
        "agentRole": "",
        "customFlag": true,
        "inputs": [],
        "outputSpecification": " ",
        "summarizationMode": "Default",
        "summarizationPrompt": "Based on the information through the chat history and/or tool call responses, construct a clear, professional, and user-friendly answer to address the user's original query.\nconstruct an answer that addresses the user's original query.\nYour answer should be directed towards the user and should be friendly, professional,\nand concise. If you are not able to answer the user's question based on the tool calls or through the chat history,\nyou should let them know that you do not have access to that information.\n\n--ANSWER REQUIREMENTS--\nYour answer should be based only on the information available to you in the tool calling chat\nhistory. You should never invent or make up answers. If the question requires you to synthesize\nanswers across several tool responses, you should do that. Note that some information may need\nto be summarized from across multiple places in a given object. Use your inference and semantic\nknowledge to derive the answer from the data without inventing anything.\n\n--ADDITIONAL REQUIREMENTS--\n* Do not mention tool calls, chat history, underlying operations, or system processes.\n* Keep the response natural and conversational without unnecessary preambles.\n* Provide a direct and engaging response without phrases like \"Based on tool calls\" or similar references.\n* Do not append any characters or trailing Periods (.) at the end of valid URLs.\n* If link is generated by DeepLink tool do not remove from response."
      },
      "Version": 34,
      "MaximumInteractions": 10,
      "AgentType": "WORKER",
      "Prompt": "Get receivables transaction data",
      "ModelConfigId": "100002171444368",
      "ReusableFlag": false,
      "tools": [
        {
          "ToolCode": "AAARTRXTOOLBO",
          "Type": "BUS_OBJECT",
          "Name": "AA_AR_TRX_TOOL_BO",
          "Description": "Get transactions data",
          "Family": "FIN",
          "Product": "OTHER",
          "SeededFlag": false,
          "HiddenFlag": false,
          "ModuleId": null,
          "Namespace": "FIN.OTHER",
          "Version": 1,
          "UserInputRequiredFlag": false,
          "Specification": {
            "jsonSchemaName": "Tool.spec",
            "jsonSchemaVersion": "1"
          },
          "UserInputMsg": null,
          "RestTool": {
            "ObjectCode": "ORA_FIN_OTHER_AAARTRXBO2",
            "Family": "FIN",
            "Product": "OTHER",
            "ObjectSource": "ADF_BC",
            "Category": null,
            "RestResourcePath": "/fscmRestApi/resources/11.13.18.05/receivablesInvoices",
            "RestResourceIdentifier": "identifier_not_known",
            "RestSupportedOperations": "{\"allowedOperations\": {\"GET\": true, \"POST\": true, \"PATCH\": true, \"DELETE\": true}}",
            "ParentSupptObjectId": null,
            "MandatoryFlag": false,
            "SeededFlag": false,
            "ObjectProperties": {
              "jsonSchemaName": "SupportedBusinessObject.objectProperties",
              "jsonSchemaVersion": 1,
              "tools": [
                {
                  "bodyTemplate": "",
                  "description": "Get transactions data",
                  "id": 14,
                  "isNew": true,
                  "name": "getTrxData",
                  "operationType": "GET",
                  "parameterDefinitions": [
                    {
                      "dataType": "string",
                      "description": "Customer Name Parameter",
                      "id": 16,
                      "isToken": true,
                      "name": "CustomerName"
                    },
                    {
                      "dataType": "number",
                      "description": "The original invoice amount.",
                      "id": 5,
                      "isToken": false,
                      "name": "EnteredAmount"
                    },
                    {
                      "dataType": "integer",
                      "description": "The unique identifier of the invoice.",
                      "id": 7,
                      "isToken": false,
                      "name": "CustomerTransactionId"
                    },
                    {
                      "dataType": "number",
                      "description": "The Invoice balance amount.",
                      "id": 6,
                      "isToken": false,
                      "name": "InvoiceBalanceAmount"
                    },
                    {
                      "dataType": "string",
                      "description": "The transaction number assigned to the invoice.",
                      "id": 14,
                      "isToken": false,
                      "name": "TransactionNumber"
                    },
                    {
                      "dataType": "string",
                      "description": "The transaction source assigned to the invoice.",
                      "id": 15,
                      "isToken": false,
                      "name": "TransactionSource"
                    },
                    {
                      "dataType": "string",
                      "description": "The account number of the bill-to customer assigned to the invoice.",
                      "id": 16,
                      "isToken": false,
                      "name": "BillToCustomerNumber"
                    },
                    {
                      "dataType": "string",
                      "description": "The number that identifies the bill-to customer site assigned to the invoice.",
                      "id": 17,
                      "isToken": false,
                      "name": "BillToSite"
                    },
                    {
                      "dataType": "string",
                      "description": "The business unit under which the invoice is created. A business unit is a unit of an enterprise that performs one or more business functions that can be rolled up in a management hierarchy.",
                      "id": 27,
                      "isToken": false,
                      "name": "BusinessUnit"
                    },
                    {
                      "dataType": "string",
                      "description": "The accounting date assigned to the invoice.",
                      "id": 26,
                      "isToken": false,
                      "name": "BillingDate"
                    },
                    {
                      "dataType": "string",
                      "description": "The accounting date assigned to the invoice.",
                      "id": 28,
                      "isToken": false,
                      "name": "AccountingDate"
                    },
                    {
                      "dataType": "string",
                      "description": "The name that identifies the bill-to customer assigned to the invoice.",
                      "id": 32,
                      "isToken": false,
                      "name": "BillToCustomerName"
                    },
                    {
                      "dataType": "string",
                      "description": "The date on which the invoice installment is due to be paid.",
                      "id": 8,
                      "isToken": false,
                      "name": "DueDate"
                    }
                  ],
                  "resourcePath": "/fscmRestApi/resources/11.13.18.05/receivablesInvoices?finder=invoiceSearch;BillToCustomerName=\"{CustomerName}\"&onlyData=true&fields=DueDate,InvoiceCurrencyCode,TransactionNumber,TransactionDate,TransactionType,TransactionSource,BillToCustomerNumber,BillToSite",
                  "resourceType": "ADF_BC_FIXED_QUERY",
                  "sampleQueries": [],
                  "type": "BUS_OBJECT"
                }
              ]
            },
            "ObjectDisplayName": "AA_AR_TRX_BO2",
            "Name": "AA_AR_TRX_BO2",
            "Description": "Get transactions data"
          }
        }
      ],
      "topics": []
    }
  ],
  "agentMappings": [
    {
      "EdgeOrder": 0,
      "AgentCode": "AAAGENTSUPERV01",
      "AgentTargetCode": "AAAGENTAPINV"
    },
    {
      "EdgeOrder": 0,
      "AgentCode": "AAAGENTSUPERV01",
      "AgentTargetCode": "AAAGENTSUPERV01"
    },
    {
      "EdgeOrder": 1,
      "AgentCode": "AAAGENTSUPERV01",
      "AgentTargetCode": "AAARAGENTINV"
    }
  ]
}