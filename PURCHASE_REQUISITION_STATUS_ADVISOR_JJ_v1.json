{
  "Specification": {
    "dataPipeline": {
      "pipelineNodes": [
        {
          "metadata": {
            "description": "Start of data pipeline",
            "name": "Start"
          },
          "outcomes": {
            "success": "end"
          },
          "code": "START",
          "id": "start",
          "inputs": [],
          "type": "START"
        },
        {
          "metadata": {
            "description": "End of data pipeline",
            "name": "End"
          },
          "outcomes": {},
          "code": "END",
          "id": "end",
          "inputs": [],
          "type": "END"
        }
      ],
      "rootNode": "start",
      "variables": [],
      "errorHandlers": [
        {
          "type": "EMAIL",
          "inputs": [
            {
              "name": "toList",
              "type": "string",
              "value": ""
            },
            {
              "name": "ccList",
              "type": "string",
              "value": ""
            },
            {
              "name": "subject",
              "type": "string",
              "value": ""
            },
            {
              "name": "body",
              "type": "string",
              "value": ""
            }
          ]
        }
      ]
    },
    "jsonSchemaName": "Workflow.spec",
    "jsonSchemaVersion": "1",
    "inputs": [],
    "outputSpecification": " ",
    "agentsValueMappings": [
      {
        "agentCode": "PURCHASE_REQUISITION_STATUS_ADVISOR_JJ",
        "inputs": []
      }
    ],
    "humanApprovalFlag": false,
    "triggers": [
      {
        "type": "REST",
        "inputs": []
      }
    ],
    "deletedTriggerTypes": [],
    "chatExpTPFileUploadEnabledFlag": false,
    "chatExpThirdPartyDetails": []
  },
  "WorkflowCode": "PURCHASE_REQUISITION_STATUS_ADVISOR_JJ",
  "Name": "Purchase Requisition Status Advisor jj",
  "Description": "This advisor enables employees to get information and status on their purchase requisitions.",
  "Family": "PRC",
  "Product": "SSP",
  "UseCaseId": "NA",
  "SourceWorkflowId": null,
  "AccessModifier": "public",
  "StartQuestionOne": "What is the status of requisition REQ_25?",
  "StartQuestionTwo": "Is requisition 245499 still pending approvals?",
  "StartQuestionThree": null,
  "FollowUpPromptEnabledFlag": false,
  "FollowUpPrompt": "Based on the following conversion: $param.system_context.chat_history generate $param.system_context.number_of_follow_up_questions\nfollow up questions only while strictly adhering to the JSON Schema format mentioned below. Remove the ```json markdown from the output.\nHere is the JSON Schema format the output should adhere to:\n[{\"question\": \"<put first question generated here>\"}, {\"question\": \"<put second question generated here>\"}, {\"question\": \"<put third question generated here>\"}",
  "Architecture": "single_agent",
  "MaximumInteractions": 10,
  "StartAgentId": null,
  "agents": [
    {
      "Specification": {
        "jsonSchemaName": "Agent.spec",
        "jsonSchemaVersion": "1",
        "agentRole": "",
        "customFlag": true,
        "inputs": [],
        "outputSpecification": " ",
        "summarizationMode": "Default",
        "summarizationPrompt": "Based on the information through the chat history and/or tool call responses, construct a clear, professional, and user-friendly answer to address the user's original query.\nconstruct an answer that addresses the user's original query.\nYour answer should be directed towards the user and should be friendly, professional,\nand concise. If you are not able to answer the user's question based on the tool calls or through the chat history,\nyou should let them know that you do not have access to that information.\n\n--ANSWER REQUIREMENTS--\nYour answer should be based only on the information available to you in the tool calling chat\nhistory. You should never invent or make up answers. If the question requires you to synthesize\nanswers across several tool responses, you should do that. Note that some information may need\nto be summarized from across multiple places in a given object. Use your inference and semantic\nknowledge to derive the answer from the data without inventing anything.\n\n--ADDITIONAL REQUIREMENTS--\n* Do not mention tool calls, chat history, underlying operations, or system processes.\n* Keep the response natural and conversational without unnecessary preambles.\n* Provide a direct and engaging response without phrases like \"Based on tool calls\" or similar references.\n* Do not append any characters or trailing Periods (.) at the end of valid URLs.\n* If link is generated by DeepLink tool do not remove from response."
      },
      "AgentCode": "PURCHASE_REQUISITION_STATUS_ADVISOR_JJ",
      "Name": "Purchase Requisition Status Advisor jj",
      "Description": "This agent enables employees to easily and quickly get status and information on their requisitions.",
      "Family": "PRC",
      "Product": "SSP",
      "ModuleId": null,
      "Namespace": "PRC.SSP",
      "SeededFlag": false,
      "PromptCode": null,
      "Version": 6,
      "MaximumInteractions": 10,
      "AgentType": "WORKER",
      "Prompt": "You are a purchase requisition details and status advisor who answers questions from employees about the requisitions they created and submitted.\n\nFirst determine the current user by using getUserSession tool, use person name as the preparer name with single quotes (example 'John Smith') before sending to the Purchase Requisition Details tool to query for requisition.\n\nIf a user provides a requisition number, use the Purchase Requisition Details tool to\n- Fetch the requisition details\n- Show the deep link to requisition details\n\nIf the user does not provide a requisition number but provides a description of the requisition or item, match the description of the requisition they entered to the requisitions they have access to.  Return the most recently created requisition that matches the description. \n\nElse, say \"Enter a requisition number or description or let me know if you want to see information from your most recently created requisition.\"  If user chooses to see the most recently created requisition, display information accordingly. And show deep link to the requisition details\n\nIf the user asks for the current approver, do not return the assigned buyer as the current approver.",
      "ModelConfigId": null,
      "ReusableFlag": false,
      "tools": [
        {
          "ToolCode": "ORA_USER_SESSION_TOOL",
          "Type": "USER_SESSION",
          "Name": "GetUserSession",
          "Description": "Tool that fetches the PersonNumber of the logged in user.",
          "Family": "COMMON",
          "Product": "OTHER",
          "SeededFlag": true,
          "HiddenFlag": false,
          "ModuleId": "074F58CB6E686D21E0634CA56C64F55F",
          "Namespace": "COMMON.OTHER",
          "Version": 1,
          "UserInputRequiredFlag": false,
          "Specification": null,
          "UserInputMsg": null
        },
        {
          "Specification": {},
          "DeepLinkTool": {
            "DeepLinkProperties": {
              "description": "Deep link that enables employees to view the full details of a requisition.",
              "fixedQuery": "/fscmUI/redwood/procurement/requisitions/tabbar/shopping/requisitiondetails?requisitionHeaderId={RequisitionHeaderId}",
              "isSeeded": true,
              "jsonSchemaName": "DeepLink.deepLinkProperties",
              "jsonSchemaVersion": 1,
              "name": "oraPrcSspPurchaserequisitiondetails",
              "operationType": "GET",
              "parameterDefinitions": [
                {
                  "dataType": "integer",
                  "description": "Purchase Requisition Header Id",
                  "name": "RequisitionHeaderId",
                  "queryable": "true",
                  "sampleValue": 300100636005237
                }
              ],
              "resourceType": "ADF_BC_DEEPLINK",
              "sampleQueries": [
                {
                  "query": {
                    "RequisitionHeaderId": 300100636005237
                  },
                  "description": "Deep link that enables employees to view the full details of a requisition."
                }
              ],
              "type": "DEEPLINK"
            },
            "DeepLinkCode": "ORA_PRC_SSP_PURCHASEREQUISITIONDEEPLINK",
            "UsageType": "VbAppUi",
            "DestinationURL": "/fscmUI/redwood/procurement/requisitions/tabbar/shopping/requisitiondetails?requisitionHeaderId={RequisitionHeaderId}",
            "Family": "PRC",
            "Product": "SSP",
            "Name": "Deep link that enables employees to view the full details of a requisition.",
            "Description": "Purchase Requisition Details",
            "Message": "Click {deepLink} for details.",
            "CreatedBy": "SEED_DATA_FROM_APPLICATION",
            "CreationDate": "2025-06-27T22:17:03+00:00"
          },
          "ToolCode": "ORA_VIEW_PURCHASE_REQUISITION_DETAILS",
          "Type": "DEEPLINK",
          "Name": "View Purchase Requisition Details",
          "Description": "This deep link tool enables the employee to view the purchase requisition details.",
          "Family": "PRC",
          "Product": "SSP",
          "SeededFlag": true,
          "HiddenFlag": true,
          "ModuleId": "61ECAF4AAC24E990E040449821C61C97",
          "Namespace": "PRC.SSP",
          "Version": 1,
          "UserInputRequiredFlag": false,
          "UserInputMsg": null
        },
        {
          "Specification": {
            "businessObjectMetadata": {
              "functions": [
                "generate_payload_for_creation",
                "calculate_tax_and_derive_charge_account",
                "create_purchase_requisition",
                "get_purchaseRequisitionsByRequisition",
                "get_purchaseRequisitionsByPreparer",
                "get_purchaseRequisitionsByHeaderId"
              ]
            },
            "jsonSchemaName": "Tool.spec",
            "jsonSchemaVersion": "1"
          },
          "RestTool": {
            "ObjectProperties": {
              "jsonSchemaName": "SupportedBusinessObject.objectProperties",
              "jsonSchemaVersion": 1,
              "tools": [
                {
                  "headers": {
                    "Content-Type": "application/vnd.oracle.adf.action+json"
                  },
                  "bodyTemplate": "{payload_body}",
                  "description": "Generates a payload for purchase requisition creation",
                  "id": 9,
                  "isNew": false,
                  "name": "generate_payload_for_creation",
                  "operationType": "POST",
                  "parameterDefinitions": [
                    {
                      "dataType": "string",
                      "description": "Payload to execute custom action to generate requisition ",
                      "id": 20,
                      "isToken": true,
                      "name": "payload_body"
                    }
                  ],
                  "resourcePath": "/fscmRestApi/resources/11.13.18.05/purchaseRequisitions/action/generatePayloadForCreation",
                  "resourceType": "ADF_BC_FIXED_QUERY",
                  "sampleQueries": [],
                  "type": "BUS_OBJECT"
                },
                {
                  "headers": {
                    "content-type": "application/vnd.oracle.adf.action+json"
                  },
                  "bodyTemplate": "{}",
                  "description": "Calculates the recoverable and non-recoverable tax and derives the charge account for a requisition.",
                  "id": 10,
                  "isNew": false,
                  "name": "calculate_tax_and_derive_charge_account",
                  "operationType": "POST",
                  "parameterDefinitions": [
                    {
                      "dataType": "integer",
                      "description": "The unique identifier for a purchase requisition",
                      "id": 10,
                      "isToken": true,
                      "name": "requisitionHeaderId"
                    }
                  ],
                  "resourcePath": "/fscmRestApi/resources/11.13.18.05/purchaseRequisitions/{requisitionHeaderId}/action/calculateTaxAndAccounting",
                  "resourceType": "ADF_BC_FIXED_QUERY",
                  "sampleQueries": [
                    {
                      "query": {},
                      "description": "Calculate tax and derive charge account for requisition 12345",
                      "id": 8,
                      "stringValue": "{}"
                    }
                  ],
                  "type": "BUS_OBJECT"
                },
                {
                  "bodyTemplate": "{payload_body}",
                  "description": "Creates a purchase requisition.",
                  "id": 11,
                  "isNew": false,
                  "name": "create_purchase_requisition",
                  "operationType": "POST",
                  "parameterDefinitions": [
                    {
                      "dataType": "string",
                      "description": "Payload to create a requisition",
                      "id": 47,
                      "isToken": true,
                      "name": "payload_body"
                    }
                  ],
                  "resourcePath": "/fscmRestApi/resources/11.13.18.05/purchaseRequisitions",
                  "resourceType": "ADF_BC_FIXED_QUERY",
                  "sampleQueries": [],
                  "type": "BUS_OBJECT"
                },
                {
                  "bodyTemplate": "",
                  "description": "Search for Purchase Requisitions by Requisition Number",
                  "id": 12,
                  "isNew": false,
                  "name": "get_purchaseRequisitionsByRequisition",
                  "operationType": "GET",
                  "parameterDefinitions": [
                    {
                      "dataType": "string",
                      "description": "Requisition Number",
                      "id": 18,
                      "isToken": true,
                      "name": "requisitionNumber"
                    }
                  ],
                  "resourcePath": "/fscmRestApi/resources/11.13.18.05/purchaseRequisitions?q=Requisition='{requisitionNumber}'&expand=all&fields=Justification,PreparerEmail,DocumentStatusCode,ApprovedDate,IdentificationKey,TaxationCountry,RequisitionHeaderId,Requisition,Preparer,DocumentStatus,LifecycleStatus,RejectedByDisplayName,RequisitioningBU,Description,Justification,SubmissionDate;lines:RequisitionLineSource,UnitPrice,LineStatus,SourceAgreement,SupplierSite,DestinationOrganization,SupplierContactEmail,DeliverToAddress,LineType,LineStatusDisplayValue,Amount,RequesterDisplayName,AssignedBuyerDisplayName,PurchaseOrder,ProcurementBU,TransferOrder,ActionRequired,LineNumber,CategoryName,ItemDescription,CurrencyCode,CurrencyAmount,Supplier;&onlyData=true",
                  "resourceType": "ADF_BC_FIXED_QUERY",
                  "sampleQueries": [
                    {
                      "query": {
                        "requisitionNumber": 123
                      },
                      "description": "Get purchase requisition details with RequisitionNumber 123\n",
                      "id": 16,
                      "stringValue": "{\"requisitionNumber\":123}"
                    }
                  ],
                  "type": "BUS_OBJECT",
                  "useNativeAuthentication": true
                },
                {
                  "bodyTemplate": "",
                  "description": "Search for Purchase Requisitions by Preparer",
                  "id": 13,
                  "isNew": false,
                  "name": "get_purchaseRequisitionsByPreparer",
                  "operationType": "GET",
                  "parameterDefinitions": [
                    {
                      "dataType": "string",
                      "description": "Preparer Name",
                      "id": 17,
                      "isToken": true,
                      "name": "preparerName"
                    }
                  ],
                  "resourcePath": "/fscmRestApi/resources/11.13.18.05/purchaseRequisitions?q=Preparer={preparerName}&expand=all&fields=RequisitionHeaderId,Requisition,Preparer,DocumentStatus,LifecycleStatus,RejectedByDisplayName,RequisitioningBU,Description,Justification,SubmissionDate;lines:LineType,LineStatusDisplayValue,Amount,RequesterDisplayName,AssignedBuyerDisplayName,PurchaseOrder,ProcurementBU,TransferOrder,ActionRequired,LineNumber,CategoryName,ItemDescription,CurrencyCode,CurrencyAmount,Supplier;&onlyData=true&orderBy=CreationDate:desc&limit=25",
                  "resourceType": "ADF_BC_FIXED_QUERY",
                  "sampleQueries": [
                    {
                      "query": {
                        "Preparer": "Jen Jones"
                      },
                      "description": "Get purchase requisitions with Preparer Jen Jones",
                      "id": 15,
                      "stringValue": "{\"Preparer\":\"Jen Jones\"}"
                    }
                  ],
                  "type": "BUS_OBJECT"
                },
                {
                  "bodyTemplate": "",
                  "description": "Search for Purchase Requisitions by Requisition Header Id",
                  "id": 14,
                  "isNew": false,
                  "name": "get_purchaseRequisitionsByHeaderId",
                  "operationType": "GET",
                  "parameterDefinitions": [
                    {
                      "dataType": "string",
                      "description": "Purchase Requisition Id",
                      "id": 300,
                      "isToken": true,
                      "name": "purchaseRequisitions_Id"
                    }
                  ],
                  "resourcePath": "/fscmRestApi/resources/11.13.18.05/purchaseRequisitions/{purchaseRequisitions_Id}?expand=all&fields=RequisitionHeaderId,Requisition,Preparer,DocumentStatus,LifecycleStatus,RejectedByDisplayName,RequisitioningBU,Description,Justification,SubmissionDate;lines:LineType,LineStatusDisplayValue,Amount,RequesterDisplayName,AssignedBuyerDisplayName,PurchaseOrder,ProcurementBU,TransferOrder,ActionRequired,LineNumber,CategoryName,ItemDescription,CurrencyCode,CurrencyAmount,Supplier;&onlyData=true",
                  "resourceType": "ADF_BC_FIXED_QUERY",
                  "sampleQueries": [
                    {
                      "query": {
                        "purchaseRequisitions_Id": 123456
                      },
                      "description": "Get all lines for purchaseRequisitions_Id",
                      "id": 299,
                      "stringValue": "{\"purchaseRequisitions_Id\":123456}"
                    }
                  ],
                  "type": "BUS_OBJECT"
                }
              ]
            },
            "ObjectCode": "ORA_PRC_SSP_PURCHASEREQUISITIONS2",
            "Family": "PRC",
            "Product": "SSP",
            "ObjectSource": "ADF_BC",
            "Category": null,
            "RestResourcePath": "/fscmRestApi/resources/11.13.18.05/purchaseRequisitions",
            "RestResourceIdentifier": "-1",
            "RestSupportedOperations": "{}",
            "ParentSupptObjectId": null,
            "MandatoryFlag": false,
            "SeededFlag": false,
            "ObjectDisplayName": "Purchase Requisitions2",
            "Name": "Purchase Requisitions2",
            "Description": "This business object returns details on requisitions.2",
            "CreatedBy": "JOHN.DUNBAR",
            "CreationDate": "2026-01-02T19:47:06.449+00:00"
          },
          "ToolCode": "PurchaseRequisitionDetails2",
          "Type": "BUS_OBJECT",
          "Name": "Purchase Requisition Details 2",
          "Description": "This tool returns status and details about a purchase requisition.",
          "Family": "PRC",
          "Product": "SSP",
          "SeededFlag": false,
          "HiddenFlag": false,
          "ModuleId": null,
          "Namespace": "PRC.SSP",
          "Version": 1,
          "UserInputRequiredFlag": false,
          "UserInputMsg": null
        }
      ],
      "topics": []
    }
  ],
  "agentMappings": [
    {
      "EdgeOrder": 0,
      "AgentCode": "PURCHASE_REQUISITION_STATUS_ADVISOR_JJ",
      "AgentTargetCode": "PURCHASE_REQUISITION_STATUS_ADVISOR_JJ"
    }
  ],
  "partnerMetadata": {
    "Description": "",
    "Name": ""
  }
}